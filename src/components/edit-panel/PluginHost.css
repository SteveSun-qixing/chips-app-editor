/* ==================== 容器 ==================== */
/* 编辑面板只提供容器，界面完全由插件设计 */
.plugin-host {
    position: relative;
    display: flex;
    flex-direction: column;
    height: 100%;
}

/* ==================== 加载状态 ==================== */
.plugin-host__loading {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: var(--chips-color-surface, #ffffff);
    z-index: 10;
}

.plugin-host__spinner {
    width: 32px;
    height: 32px;
    border: 3px solid var(--chips-color-border, #e0e0e0);
    border-top-color: var(--chips-color-primary, #3b82f6);
    border-radius: 50%;
    animation: plugin-host-spin 0.8s linear infinite;
}

@keyframes plugin-host-spin {
    to {
        transform: rotate(360deg);
    }
}

.plugin-host__loading-text {
    margin-top: var(--chips-spacing-md, 12px);
    font-size: var(--chips-font-size-sm, 14px);
    color: var(--chips-color-text-secondary, #666666);
}

/* ==================== 错误状态 ==================== */
.plugin-host__error {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--chips-spacing-xl, 32px);
    background: var(--chips-color-surface, #ffffff);
    text-align: center;
    z-index: 10;
}

.plugin-host__error-icon {
    font-size: 48px;
    margin-bottom: var(--chips-spacing-md, 12px);
}

.plugin-host__error-text {
    font-size: var(--chips-font-size-sm, 14px);
    color: var(--chips-color-error, #ef4444);
    margin: 0 0 var(--chips-spacing-md, 12px);
}

.plugin-host__retry-btn {
    padding: var(--chips-spacing-sm, 8px) var(--chips-spacing-md, 12px);
    font-size: var(--chips-font-size-sm, 14px);
    color: var(--chips-color-primary, #3b82f6);
    background: transparent;
    border: 1px solid var(--chips-color-primary, #3b82f6);
    border-radius: var(--chips-radius-sm, 4px);
    cursor: pointer;
    transition: background-color var(--chips-transition-fast, 0.15s) ease,
        color var(--chips-transition-fast, 0.15s) ease;
}

.plugin-host__retry-btn:hover {
    background: var(--chips-color-primary, #3b82f6);
    color: var(--chips-color-on-primary, #ffffff);
}

/* ==================== 插件容器 ==================== */
.plugin-host__container {
    flex: 1;
    overflow: auto;
}

/* ==================== 编辑器组件 ==================== */
/* 插件容器 - 布局完全由插件自己控制 */
.plugin-host__editor-component {
    flex: 1;
    min-height: 0;
    display: flex;
    flex-direction: column;
}

.plugin-host__iframe-wrapper {
    flex: 1;
    min-height: 0;
    display: flex;
    flex-direction: column;
}

.plugin-host__iframe {
    flex: 1;
    width: 100%;
    min-height: 220px;
    border: 0;
    background: transparent;
}

/* ==================== 默认编辑器 ==================== */
.plugin-host__default-editor {
    flex: 1;
    overflow: auto;
}

/* ==================== 未保存指示器 ==================== */
.plugin-host__unsaved-indicator {
    position: absolute;
    top: var(--chips-spacing-sm, 8px);
    right: var(--chips-spacing-sm, 8px);
    z-index: 15;
}

.plugin-host__unsaved-dot {
    display: block;
    width: 8px;
    height: 8px;
    background: var(--chips-color-warning, #f59e0b);
    border-radius: 50%;
    animation: plugin-host-pulse 1.5s ease-in-out infinite;
}

@keyframes plugin-host-pulse {

    0%,
    100% {
        opacity: 1;
        transform: scale(1);
    }

    50% {
        opacity: 0.6;
        transform: scale(0.9);
    }
}

/* ==================== 过渡动画 ==================== */
.plugin-host-fade-enter-active,
.plugin-host-fade-leave-active {
    transition: opacity var(--chips-transition-fast, 0.15s) ease;
}

.plugin-host-fade-enter-from,
.plugin-host-fade-leave-to {
    opacity: 0;
}